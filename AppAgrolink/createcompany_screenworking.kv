#:import SlideTransition kivy.uix.screenmanager.SlideTransition
<CreateCompany>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # Cor branca
        Rectangle:
            pos: self.pos
            size: self.size
            
    BoxLayout:
        orientation: 'vertical'
        padding: 7
        spacing: 10

        # Header com título e botão de voltar
        BoxLayout:
            size_hint_y: None
            height: '60dp'
            padding: [10, 5, 10, 5]
            spacing: 10

            Button:
                text: '<'
                font_size: '30sp'
                on_release: app.root.current = 'create_screen'
                size_hint_x: None
                width: '50dp'
                background_color: 1, 1, 1, 0  # Fundo Transparente
                color: 1, 1, 1, 1  # Cor do texto branca
                canvas.before:
                    Color:
                        rgba: 0, 0.5, 0, 0.4  # Cor do fundo verde
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]  # Cantos arredondados

            Label:
                text: 'Criar Empresa'
                size_hint_x: 0.8
                font_size: '18sp'
                halign: 'left'
                valign: 'middle'
                color: 0, 0.5, 0, 1

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height

            Label:
                text: 'Adicionar Empresa'
                size_hint_y: None
                height: '48dp'
                font_size: '20sp'

            ScrollView:
                do_scroll_x: False  # Desativar rolagem horizontal
                do_scroll_y: True   # Ativar rolagem vertical

                GridLayout:
                    id: form_layout
                    size_hint_y: None
                    width: self.parent.width
                    height: self.minimum_height  # Importante para expandir com o conteúdo
                    cols: 1
                    spacing: '10dp'
                    padding: '10dp'

                    Label:
                        text: 'Nome da Empresa:'
                        size_hint_y: None
                        height: '30dp'
                        color: 0, 0.5, 0, 1        

                    TextInput:
                        size_hint_y: None
                        height: '48dp'
                        padding: [10, 10, 10, 10]  # Substituição de padding_x

                    Label:
                        text: 'Número de Contribuinte:'
                        size_hint_y: None
                        height: '30dp'
                        color: 0, 0.5, 0, 1        

                    TextInput:
                        size_hint_y: None
                        height: '48dp'
                        padding: [10, 10, 10, 10]  # Substituição de padding_x

                    Label:
                        text: 'Morada:'
                        size_hint_y: None
                        height: '30dp'
                        color: 0, 0.5, 0, 1        

                    TextInput:
                        size_hint_y: None
                        height: '48dp'
                        padding: [10, 10, 10, 10]  # Substituição de padding_x

                    Label:
                        text: 'Contacto:'
                        size_hint_y: None
                        height: '30dp'
                        color: 0, 0.5, 0, 1    

                    BoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: '48dp'
                        spacing: '10dp'

                        
                        Spinner:
                            text: '+351'  # Valor inicial do Spinner
                            values: ['+351', '+34', '+39', '+33', '+41']  # Valores possíveis para o Spinner de paises
                            size_hint_x: None
                            width: 100
                            background_color: (1, 1, 1, 0)  # Fundo transparente do Spinner propriamente dito
                            color: (0, 0.5, 0, 1)  # Cor do texto
                            canvas.before:
                                Color:
                                    rgba: (0.9, 0.9, 0.9, 1)  # Cor de fundo clara para o retângulo arredondado
                                RoundedRectangle:
                                    pos: self.pos
                                    size: self.size
                                    radius: [10]  # Cantos arredondados


                        TextInput:
                            hint_text: 'Digite o Contacto'
                            padding: [10, 10, 10, 10]  # Substituição de padding_x
                            size_hint_x: 1  # Preencher o espaço restante
                            input_filter: 'int'
                
                # Adicionar aqui campos para colocar vários parametros a serem introduzidos

                    Button:
                        text: 'Próximo'
                        size_hint_y: None
                        height: '50dp'
                        on_release:
                            app.root.transition = SlideTransition(direction='left', duration=0)
                            app.root.current = app.root.current = 'prefraction'
                        background_color: 1, 1, 1, 0
                        color: 1, 1, 1, 1  # Cor do texto branco
                        canvas.before:
                            Color:
                                rgba: 0, 0.5, 0, 0.8
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [40]  # Cantos arredondados
